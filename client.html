<html>
<head>
    <!--
     * Author:      Gianluca Guarini
     * Contact:     gianluca.guarini@gmail.com
     * Website:     http://www.gianlucaguarini.com/
     * Twitter:     @gianlucaguarini
    -->
    <title>Push notification server</title>
</head>
<body>
<time></time>

<div id="container"><H1>Welcome to Design Kiosk</H1></div>

<div id="questionId"></div>

<div id="question"></div>

<div id="optionA"></div>

<div id="optionB"></div>

<button id="reset"> Reset </button>


<script src="socket.io/socket.io.js"></script>
<script src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
<script>
    // creating a new websocket
    var socket = io.connect('http://localhost:8000');
    // on every message recived we print the new datas inside the #container div
    socket.on('notification', function (data) {
        // convert the json string into a valid javascript object
        var _data = JSON.parse(data);
console.log(_data);
        $('#container').html("");
        $('#question').html(_data.test.sample.question);
        $('#optionA').html(_data.test.sample.optionA);
        $('#optionB').html(_data.test.sample.optionB);
        <!--$('time').html('Last Update:' + new Date());-->
    });

    socket.on('next', function (data) {
        // convert the json string into a valid javascript object

        console.log(data);
        $('#container').html(data);
        $('time').html('Last Update:' + new Date());
    });

    $(document).ready(function(){
        $('#reset').click(function(e){
          socket.emit('reset', {'call': 'reset'});
        });
      });

    </script>
</body>
</html>